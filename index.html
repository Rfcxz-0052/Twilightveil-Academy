<!DOCTYPE html>
<html lang="zh-Hant-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>暮影學院</title>
    <link rel="stylesheet" href="index.css">
    <link rel="icon" href="image/favicon.ico" type="image/x-icon">
</head>
<body id="gameBody">

    <!-- 故事區塊 -->
    <div class="story-container">
        <div id="playerImg" class="player-img"><img src="" alt="player"></div>
        <div class="middle-area">
            <div id="dialogBox" class="dialog-box">
                <div id="storyText" class="story"></div>
                <div id="choiceButtons" class="center-buttons"></div>
                <div id="nextIndicator">▼ 點擊繼續 </div>
            </div>
        </div>
        <div id="characterImg" class="character-img"><img src="" alt="character"></div>
    </div>

    <!-- 側邊欄 -->
    <div id="sidebar" class="sidebar">
        <button id="toggleSidebar" class="sidebar-toggle">☰</button>

        <div class="panel-section">
            <h3>聲音設定</h3>
            <label>音樂
            <input type="range" min="0" max="1" step="0.01" id="bgmSlider">
            </label><br>
            <label>音效
            <input type="range" min="0" max="1" step="0.01" id="seSlider">
            </label><br>
        </div>

        <div id="affectionDisplay">
            <!-- 好感度會自動更新 -->
        </div>
        <div id="moralityDisplay"></div>
    </div>

    <!-- BGM / SE 音源 -->
    <audio id="bgmSurface" src="audio/surface.mp3" loop></audio>
    <audio id="bgmInner" src="audio/inner.mp3" loop></audio>
    <audio id="bgmSuspense" src="audio/suspense.mp3" loop></audio>

    <audio id="seghost" src="audio/ghost.mp3"></audio>
    <audio id="sepage" src="audio/page.mp3"></audio>
    <audio id="seattack01" src="audio/attack01.mp3"></audio>
    <audio id="seattack02" src="audio/attack02.mp3"></audio>
    <audio id="seghost01" src="audio/ghost01.mp3"></audio>

    <script src="affection.js"></script>
    <script src="morality.js"></script>
    <script src="storyData.js"></script>
    <script src="audioController.js"></script>
    <script src="engine.js"></script>

    <script>
        // 音量滑桿控制
        document.getElementById('bgmSlider').value = localStorage.getItem("bgmVolume") || 0.4;
        document.getElementById('seSlider').value = localStorage.getItem("seVolume") || 1.0;

        document.getElementById('bgmSlider').addEventListener('input', e => {
            setBGMVolume(e.target.value);
        });
        document.getElementById('seSlider').addEventListener('input', e => {
            setSEVolume(e.target.value);
        });
    </script>

    <footer class="site-footer">
        © 2026 Lin Rui-An 本作品內容僅供求職及學習展示使用，未經授權禁止商業使用或轉載。
    </footer>

</body>
</html>
